<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mictlan — Estudio Tattoo (Reserva & Portafolio)</title>
  <meta name="description" content="Mictlan — tatuajes profesionales a domicilio en Querétaro. Portafolio, servicios y contacto." />
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0c;
      --card:#0f1113;
      --muted:#bdbdbd;
      --text:#efeff1;
      --accent:#f0b24a;
      --accent-2:#ff5c7c;
      --glass: rgba(255,255,255,0.03);
      --radius:12px;
      --maxw:1100px;
      --header-height: 78px; /* valor por defecto; JS lo actualizará */
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg) 0%, #0f1113 100%);color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px}

    /* FIXED HEADER (mejor control desde CSS en lugar de inline) */
    header.site-header{
      position:fixed;
      left:0;
      right:0;
      top:0;
      height:var(--header-height);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:120;
      background:linear-gradient(180deg,rgba(15,15,16,0.98),rgba(15,17,19,0.98));
      backdrop-filter:blur(6px);
      box-shadow:0 2px 16px #0002;
    }
    /* inner container para mantener ancho max */
    .nav-inner{
      width:100%;
      max-width:var(--maxw);
      padding:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.015), transparent);
    }

    .brand{display:flex;gap:12px;align-items:center}
    .logo-img{width:56px;height:56px;border-radius:12px;object-fit:cover;box-shadow:0 8px 30px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.03)}

    .wordmark{display:flex;flex-direction:column}
    .brand-title {font-family: 'Cinzel', serif; font-weight:700; font-size:20px; letter-spacing:1.6px; margin:0}
    .brand-title.gradient { background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent; -webkit-text-stroke:0.6px rgba(0,0,0,0.45) }
    .brand-sub { font-size:11px; color:var(--muted); margin-top:4px; font-weight:600 }

    .menu{display:flex;gap:10px;align-items:center}
    .nav-link{padding:8px 10px;border-radius:8px;font-weight:600;font-size:14px;color:var(--text)}
    .nav-link:hover,.nav-link:focus{background:var(--glass)}
    .cta{background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:8px 12px;border-radius:10px;color:#111;font-weight:700}

    .burger{display:inline-grid;width:44px;height:44px;place-items:center;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04)}
    .mobile-menu{display:none;margin-top:12px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:12px;position:absolute;left:18px;right:18px;top:calc(var(--header-height) + 10px);z-index:110}

    /* HERO */
    main.site-main{
      /* importante: deja espacio para el header fijo */
      padding-top: calc(var(--header-height) + 18px);
    }
    .hero{display:grid;grid-template-columns:1fr;gap:18px;align-items:center;padding:22px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));box-shadow:0 10px 40px rgba(0,0,0,0.6)}
    .kicker{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted);font-weight:600;font-size:13px}
    .hero h1{font-family: 'Cinzel', serif; font-size:26px; margin:8px 0 6px}
    .hero p{margin:0 0 12px;color:var(--muted);max-width:60ch}
    .actions{display:flex;gap:10px;flex-wrap:wrap}

    /* sticky image at the right of hero */
    .hero-right {
      display:flex;
      align-items:center;
      justify-content:center;
      /* sticky keeps it visible while the hero is in view */
      position:sticky;
      top: calc(var(--header-height) + 12px);
      z-index:3;
    }

    /* layout helpers */
    .sections{margin-top:16px;display:grid;gap:16px}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
    .grid-2{display:grid;grid-template-columns:1fr;gap:12px}

    /* rest kept similar (abrev.) */
    .services-grid{display:grid;gap:12px}
    .service-item{display:flex;gap:12px;align-items:flex-start;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));padding:12px;border-radius:12px}
    .service-badge{width:44px;height:44px;border-radius:10px;display:grid;place-items:center;font-weight:700;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#111}
    .service-body{color:var(--text)}
    .service-body strong{display:block;margin-bottom:6px;color:#fff}
    .service-body p{margin:0;color:#ddd}

    .cta-block { margin-top:1.2rem; padding:14px; border-radius:12px; display:flex; flex-direction:column; gap:8px; align-items:flex-start; background: linear-gradient(90deg, rgba(240,178,74,0.12), rgba(255,92,124,0.04)); -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px); }
    .cta-block .cta-title { font-weight:800; font-size:1rem; line-height:1.1; color:#111; }
    .mictlan-mark { background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip: text; background-clip: text; color: transparent; font-weight:900; letter-spacing:1px; text-transform:uppercase; }

    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .gallery img{width:100%;height:160px;object-fit:cover;border-radius:10px;display:block}
    .video-wrap{border-radius:10px;overflow:hidden;background:#000}
    .responsive-video{width:100%;height:100%;max-height:360px;object-fit:cover;display:block}

    form{display:grid;gap:10px}
    input,textarea,select{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:12px;border-radius:10px;color:inherit;font-size:14px}
    .submit{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#111;padding:12px;border-radius:12px;border:none;font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .center{display:flex;align-items:center;justify-content:center}
    .visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

    /* ensure anchor targets are not hidden by fixed header */
    section, .card, .hero { scroll-margin-top: calc(var(--header-height) + 12px); }

    /* responsive tweaks */
    @media(min-width:880px){
      .hero{grid-template-columns:1fr 420px}
      .grid-2{grid-template-columns:1fr 1fr}
      .gallery{grid-template-columns:repeat(3,1fr)}
      .menu{display:flex}
      .mobile-menu{display:none}
      .hero-right { top: calc(var(--header-height) + 24px); }
    }
    @media(max-width:879px){
      .menu{display:none}
      .mobile-menu{display:block}
      .gallery img{height:140px}
      /* mobile: ajustar tamaño header si hace falta */
      :root { --header-height: 72px; }
    }

    /* simple fade helpers used por tu JS */
    .fade-init{opacity:0;transform:translateY(8px);transition:all 520ms cubic-bezier(.2,.9,.2,1)}
    .fade-in{opacity:1;transform:none}
  </style>
</head>
<body>
  <!-- Header fijo: use clase site-header -->
  <header class="site-header" role="banner" id="siteHeader">
    <div class="nav-inner" aria-label="Navegación principal">
      <div class="brand" style="position:relative;z-index:2;background:none;">
        <img src="assets/Mic.jpeg" alt="logo Mictlan" class="logo-img" />
        <div class="wordmark">
          <div class="brand-title gradient">Mictlan</div>
          <div class="brand-sub">Estudio de Tatuaje · Servicio a domicilio · Querétaro</div>
        </div>
      </div>

      <div class="nav-toggle" style="position:relative;z-index:2;">
        <div class="menu" role="menubar" style="background:none;border-radius:8px;padding:6px;">
          <a class="nav-link" href="#inicio">Inicio</a>
          <a class="nav-link" href="#servicios">Servicios</a>
          <a class="nav-link" href="#portafolio">Portafolio</a>
          <a class="nav-link" href="#contacto">Contacto</a>
        </div>

        <button class="burger" id="navToggler" aria-expanded="false" aria-controls="mobileMenu" aria-label="Abrir menú móvil">
          <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden>
            <rect y="0" width="20" height="2" rx="1" fill="white"/>
            <rect y="6" width="20" height="2" rx="1" fill="white" opacity="0.9"/>
            <rect y="12" width="20" height="2" rx="1" fill="white" opacity="0.7"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- mobile menu (posicionado debajo del header fijo) -->
    <div id="mobileMenu" class="mobile-menu" hidden aria-hidden="true">
      <div style="display:flex;flex-direction:column;gap:8px">
        <a class="nav-link" href="#inicio">Inicio</a>
        <a class="nav-link" href="#servicios">Servicios</a>
        <a class="nav-link" href="#portafolio">Portafolio</a>
        <a class="nav-link" href="#contacto">Contacto</a>
        <a class="cta center" href="#contacto">Reservar</a>
      </div>
    </div>
  </header>

  <!-- MAIN: con padding-top compensando el header fijo -->
  <main class="site-main wrap" id="top">
    <section id="inicio" class="hero card" tabindex="-1">
      <div>
        <div class="kicker">Servicio a domicilio · Bioseguridad</div>
        <h1>Mictlan — técnica, higiene y profesionalismo</h1>
        <p class="muted">Atención personalizada en tu casa o espacio seguro. Materiales 100% estériles y protocolos certificados. Consulta previa online y asesoría de diseño.</p>
        <div class="actions">
          <a class="cta" href="#contacto">Reservar cita</a>
          <a class="nav-link" href="#portafolio">Ver portafolio</a>
        </div>
      </div>

      <!-- Hero-right: imagen/ícono que se mantiene sticky para que no se tape -->
      <div class="hero-right" aria-hidden>
        <div style="width:220px;border-radius:14px;padding:18px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);display:flex;flex-direction:column;align-items:center;justify-content:center">
          <svg width="110" height="110" viewBox="0 0 100 100" fill="none" aria-hidden>
            <defs>
              <linearGradient id="g1" x1="0" x2="1"><stop offset="0%" stop-color="#f0b24a"/><stop offset="100%" stop-color="#ff5c7c"/></linearGradient>
            </defs>
            <rect x="6" y="6" width="88" height="88" rx="16" fill="#0b0b0b" stroke="url(#g1)" stroke-width="2"/>
            <text x="50" y="60" text-anchor="middle" font-family="Cinzel, serif" font-size="36" fill="url(#g1)" style="font-weight:700">M</text>
          </svg>
          <div class="muted" style="margin-top:8px">Portafolio</div>
        </div>
      </div>
    </section>

    <!-- resto del contenido tal cual (se recortó por brevedad en la explicación),
         pero aquí incluyo el contenido que tenías para que el documento sea completo. -->

    <!-- ARTISTA -->
    <section id="artista" class="card">
      <h3>Artista</h3>
      <div style="display:flex;gap:14px;align-items:center;flex-wrap:wrap">
        <img src="Logo.jpeg" alt="gonzalez.joshh" style="width:96px;height:96px;object-fit:cover;border-radius:12px;border:2px solid rgba(240,178,74,0.12);box-shadow:0 8px 30px rgba(0,0,0,0.5)">
        <div>
          <div style="font-weight:700">gonzalez.joshh</div>
          <div class="muted">Tatuador profesional a domicilio en Querétaro. Especialidad: diseños personalizados, bioseguridad y atención segura en tu espacio.</div>
        </div>
      </div>
    </section>

    <!-- SERVICIOS (readable list) -->
    <section id="servicios" class="card">
      <h3>Servicio a domicilio profesional</h3>

      <div class="services-grid" style="margin-top:12px">
        <div class="service-item"><div class="service-badge">1</div><div class="service-body"><strong>Atención personalizada</strong><p>Atención en tu casa o espacio seguro. Ajuste de horario y preparación previa.</p></div></div>
        <div class="service-item"><div class="service-badge">2</div><div class="service-body"><strong>Materiales estériles</strong><p>Agujas, grips y material de un solo uso. Protocolos certificados.</p></div></div>
        <div class="service-item"><div class="service-badge">3</div><div class="service-body"><strong>Bioseguridad</strong><p>Limpieza, desinfección y control para tu seguridad y la del artista.</p></div></div>
        <div class="service-item"><div class="service-badge">4</div><div class="service-body"><strong>Consulta previa online</strong><p>Asesoría de diseño, tamaño y ubicación antes de agendar.</p></div></div>
        <div class="service-item"><div class="service-badge">5</div><div class="service-body"><strong>Servicio exclusivo</strong><p>Disponible en Querétaro y alrededores — traslado incluido en cotización.</p></div></div>
      </div>

      <div class="cta-block" role="region" aria-label="Llamado a la acción - reservar cita" style="background:linear-gradient(90deg,#f0b24a 80%,#ff5c7c 100%);box-shadow:0 2px 16px #0002;padding:18px 16px;border-radius:14px;display:flex;flex-direction:column;gap:10px;align-items:flex-start;">
        <div class="cta-title" style="color:#222;font-size:1.08rem;font-weight:800;">
          ¡Agenda tu cita y vive la experiencia <span class="mictlan-mark" style="color:#ff5c7c;background:none;-webkit-background-clip:initial;background-clip:initial;text-shadow:0 2px 8px #fff,0 0 2px #f0b24a;">MICTLAN</span> en tu espacio!
        </div>
        <div class="cta-note" style="color:#222;font-size:1rem;">
          Servicio profesional y seguro — materiales 100% estériles y protocolos certificados. Reserva por WhatsApp o correo y te confirmamos horario.
        </div>
        <a href="#contacto" class="cta" style="margin-top:8px;background:linear-gradient(90deg,#ffb24a 70%,#ff5c7c 100%);color:#222;font-weight:700;font-size:1.08rem;padding:10px 22px;border-radius:10px;box-shadow:0 2px 8px #0001;text-shadow:none;border:none;">Reservar cita</a>
      </div>
    </section>

    <!-- PORTAFOLIO -->
    <section id="portafolio" class="sections">
      <div class="card">
        <h3>Portafolio</h3>
        <p class="muted">Galería de trabajos reales — toca para ampliar.</p>
        <div class="gallery" id="gallery">
          <img data-src="assets/WhatsApp Image 2025-08-12 at 6.15.27 PM.jpeg" alt="Tatuaje 1" loading="lazy">
          <img data-src="assets/WhatsApp Image 2025-08-12 at 6.15.28 PM (1).jpeg" alt="Tatuaje 2" loading="lazy">
          <img data-src="assets/WhatsApp Image 2025-08-12 at 6.15.28 PM (2).jpeg" alt="Tatuaje 3" loading="lazy">
          <img data-src="assets/WhatsApp Image 2025-08-12 at 6.15.28 PM.jpeg" alt="Tatuaje 4" loading="lazy">
        </div>
      </div>

      <div class="card">
        <h3>Video (demostración segura)</h3>
        <div class="video-wrap" style="max-width:480px;margin:0 auto;">
          <video id="demoVideo" class="responsive-video" controls playsinline preload="none" poster="assets/WhatsApp Image 2025-08-12 at 6.15.27 PM.jpeg" aria-label="Video demostración" style="width:100%;max-height:260px;object-fit:cover;border-radius:10px;background:#000;">
            <source data-src="assets/WhatsApp Video 2025-08-12 at 6.15.28 PM.mp4" type="video/mp4">
            Tu navegador no soporta video.
          </video>
        </div>
      </div>

      <div id="servicios-2" class="card">
        <h3>Servicios y precios (orientativo)</h3>
        <div class="grid-2" style="gap:12px;margin-top:8px">
          <div><strong>Linework</strong><p class="muted">Desde $800 MXN — precio varía por tamaño</p></div>
          <div><strong>Realismo</strong><p class="muted">Desde $2,200 MXN — consulta necesaria</p></div>
          <div><strong>Cover-up / Corrección</strong><p class="muted">Cotización personalizada</p></div>
          <div><strong>Microtatuaje</strong><p class="muted">Preguntar por disponibilidad</p></div>
        </div>
      </div>

      <div id="contacto" class="card">
        <h3>Contacto / Reserva</h3>
        <p class="muted">Rellena con tu idea y datos — te confirmamos por email o WhatsApp.</p>
        <form id="contactForm" novalidate>
          <label class="visually-hidden" for="nombre">Nombre</label>
          <input id="nombre" name="nombre" placeholder="Tu nombre*" required>

          <label class="visually-hidden" for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="Correo electrónico*" required>

          <label class="visually-hidden" for="telefono">Teléfono</label>
          <input id="telefono" name="telefono" placeholder="Teléfono / WhatsApp" inputmode="tel">

          <label class="visually-hidden" for="servicio">Servicio</label>
          <select id="servicio" name="servicio">
            <option value="linework">Linework</option>
            <option value="realismo">Realismo</option>
            <option value="cover">Cover-up</option>
            <option value="consulta">Consulta previa</option>
          </select>

          <label class="visually-hidden" for="mensaje">Descripción</label>
          <textarea id="mensaje" name="mensaje" rows="4" placeholder="Describe tu idea (tamaño, ubicación, referencia)" required></textarea>

          <div id="formMsg" aria-live="polite" class="muted small"></div>
          <button class="submit" type="submit">Enviar solicitud</button>
        </form>
      </div>
    </section>

    <footer style="margin-top:18px" class="muted small center">
      <div>© <span id="year"></span> Mictlan — Todos los derechos reservados</div>
    </footer>
  </main>

  <script>
    // --- Header / layout helpers -----------------------------------------
    const siteHeader = document.getElementById('siteHeader');

    function updateHeaderHeightVar() {
      if (!siteHeader) return;
      // medir la altura real del header y guardarla en la variable CSS
      const h = siteHeader.offsetHeight || 76;
      document.documentElement.style.setProperty('--header-height', h + 'px');

      // también asegurarnos de que el mobileMenu (abierto) se posicione debajo del header
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu) {
        mobileMenu.style.top = (h + 10) + 'px';
      }
    }

    // ejecuta al cargar y al cambiar el tamaño
    window.addEventListener('load', updateHeaderHeightVar);
    window.addEventListener('resize', updateHeaderHeightVar);

    // --- mobile menu toggle ----------------------------------------------
    const navToggler = document.getElementById('navToggler');
    const mobileMenu = document.getElementById('mobileMenu');
    if (navToggler && mobileMenu) {
      navToggler.addEventListener('click', () => {
        const expanded = navToggler.getAttribute('aria-expanded') === 'true';
        navToggler.setAttribute('aria-expanded', String(!expanded));
        if (mobileMenu.hasAttribute('hidden')) {
          mobileMenu.removeAttribute('hidden');
          mobileMenu.setAttribute('aria-hidden','false');
        } else {
          mobileMenu.setAttribute('hidden','');
          mobileMenu.setAttribute('aria-hidden','true');
        }
      });
    }

    // --- smooth scroll con compensación por header fijo ------------------
    // usamos offset para que al hacer scroll a un ancla no quede tapado por el header.
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (!href || href.length <= 1) return;
        const target = document.querySelector(href);
        if (!target) return;
        e.preventDefault();

        // esconder menú móvil si está abierto
        if (mobileMenu && !mobileMenu.hasAttribute('hidden')) {
          mobileMenu.setAttribute('hidden','');
          mobileMenu.setAttribute('aria-hidden','true');
          if (navToggler) navToggler.setAttribute('aria-expanded','false');
        }

        // calcular offset
        const headerHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height')) || 72;
        const rect = target.getBoundingClientRect();
        const absoluteY = window.scrollY + rect.top;
        const targetY = Math.max(0, absoluteY - headerHeight - 12); // pequeño padding extra

        window.scrollTo({ top: targetY, behavior: 'smooth' });

        // accesibilidad: foco al target
        target.setAttribute('tabindex','-1');
        target.focus({ preventScroll: true });
        setTimeout(()=> target.removeAttribute('tabindex'), 1200);
      });
    });

    // --- Intersection observer: anim + lazy load (tu código original) ---
    const io = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const el = entry.target;
        el.classList.add('fade-in');

        if (el.tagName === 'IMG' && el.dataset && el.dataset.src) {
          if (!el.src) el.src = el.dataset.src;
        }

        if (el.tagName === 'VIDEO') {
          const srcEl = el.querySelector('source[data-src]');
          if (srcEl && !srcEl.src) {
            srcEl.src = srcEl.dataset.src;
            el.load();
          }
        }

        obs.unobserve(el);
      });
    }, { threshold: 0.12, rootMargin: '200px' });

    document.querySelectorAll('.section, .card, .hero, .gallery img, video').forEach(el => {
      el.classList.add('fade-init');
      io.observe(el);
    });

    // --- Contact form simplified (tu lógica original) --------------------
    const form = document.getElementById('contactForm');
    const formMsg = document.getElementById('formMsg');
    if (form) {
      form.addEventListener('submit', function(e){
        e.preventDefault();
        const nombre = form.nombre.value.trim();
        const email = form.email.value.trim();
        const mensaje = form.mensaje.value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!nombre || !email || !mensaje) {
          formMsg.textContent = 'Por favor completa los campos obligatorios (*).';
          formMsg.style.color = '#ffb3a3';
          return;
        }
        if (!emailRegex.test(email)) {
          formMsg.textContent = 'Email inválido. Revisa y vuelve a intentar.';
          formMsg.style.color = '#ffb3a3';
          return;
        }

        formMsg.textContent = 'Enviando…';
        formMsg.style.color = 'var(--muted)';

        setTimeout(() => {
          formMsg.textContent = '¡Gracias! Tu solicitud fue recibida. Te contactaremos pronto.';
          formMsg.style.color = 'var(--accent)';
          form.reset();
          setTimeout(()=> formMsg.textContent = '', 5000);
        }, 800);
      });

      form.querySelectorAll('input, textarea, select').forEach(el => el.addEventListener('input', ()=>{ formMsg.textContent=''; }));
    }

    // year helper
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // focus first input when clicking contacto links
    document.querySelectorAll('a[href="#contacto"]').forEach(a => a.addEventListener('click', ()=> setTimeout(()=> document.getElementById('nombre')?.focus(), 900)));
  </script>
</body>
</html>
